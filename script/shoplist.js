"use strict";var _createClass=function(){function e(t,n){for(var o=0;o<n.length;o++){var e=n[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _toConsumableArray(t){if(Array.isArray(t)){for(var n=0,o=Array(t.length);n<t.length;n++)o[n]=t[n];return o}return Array.from(t)}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}define(["jquery","top"],function(e,n){return{init:function(){function t(){var n=this;_classCallCheck(this,t),this.moreBool=!1,this.moreBn=e(".nav-init-top .more"),this.navBottomLeft=e(".nav-bottom-left"),this.navBottom=e(".nav-bottom"),this.moreBn.on("click",function(t){return n.moreHandler(t)}),this.renderShopAjax(),this.goodsUl=e(".goodsList").find(".goodsUl"),this.relateShopNum=e(".nav-top-right").find("span")}n.topinit(),new(_createClass(t,[{key:"moreHandler",value:function(){this.moreBool?(this.navBottomLeft.stop(!0).animate({height:78}),this.navBottom.stop(!0).animate({height:80})):(this.navBottomLeft.stop(!0).animate({height:218}),this.navBottom.stop(!0).animate({height:220})),this.moreBool=!this.moreBool}},{key:"renderShopAjax",value:function(){var o=this;e.ajax({url:"http://localhost/tianmao/dist/php/getlistdata.php"}).done(function(t){var n=JSON.parse(t);o.renderShopInfor(n)})}},{key:"renderShopInfor",value:function(t){for(var n=[].concat(_toConsumableArray(t)),o="",e=0;e<4;e++)n.push.apply(n,_toConsumableArray(t));this.relateShopNum.html(n.length);for(var a=0;a<n.length;a++)o+='<a href="./shopdetail.html?sid='+n[a].id+'">\n                            <li>\n                                <img src="'+n[a].pic+'" alt="">\n                                <p class="price"><span>￥</span>'+n[a].price+'</p>\n                                <p class="title">'+n[a].title+'</p>\n                                <p class="shopname">'+n[a].shopname+'</p>\n                                <div class="goodsLi-bottom">\n                                    <p class="left"><span>月成交</span><b>'+n[a].sailnum+'笔</b></p>\n                                    <p class="center"><span>评价</span><b>'+n[a].comment+'</b></p>\n                                    <p class="right"><img src="./img/shoplist.png" alt=""></p>\n                                </div>\n                            </li>\n                        </a>';this.goodsUl.html(o)}}]),t)}}});