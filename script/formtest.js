"use strict";define(["jquery"],function(v){return{formInit:function(n,t,l,i,s){var a=Array.from(document.querySelectorAll(".wrap input[type=text]")),e=document.querySelector(".code"),o=document.querySelector("form"),r=document.querySelector("form input[type=submit]");function d(e){""===this.value&&(this.parentNode.nextElementSibling.children[0].style.display="inline")}function c(e){""===this.value?(this.parentNode.nextElementSibling.children[1].style.display="none",this.parentNode.nextElementSibling.children[0].style.display="inline",this.nextElementSibling.style.display="none",this.bool=!1):("password"===this.className&&""!==a[2].value&&u(a[2]),this.parentNode.nextElementSibling.children[0].style.display="none",u(this)),a.every(function(e){return e.bool})?v(r).addClass("nextactive"):v(r).removeClass("nextactive")}function u(e){switch(e.className){case"username":h(e,/^[\u4e00-\u9fa5\w\-]{1,20}$/g.test(e.value));break;case"confirmpass":h(e,e.value===a[1].value);break;case"codeInput":h(e,new RegExp("^"+m+"$","i").test(e.value))}}function p(){var e=0;switch(/[0-9]/g.test(this.value)&&e++,/[a-z]/g.test(this.value)&&e++,/[A-Z]/g.test(this.value)&&e++,/[\W\_]/g.test(this.value)&&e++,e){case 1:y(this,"弱");break;case 2:case 3:y(this,"中");break;case 4:y(this,"强")}}function h(e,n){n?(e.bool=!0,e.nextElementSibling.style.display="inline-block",e.parentNode.nextElementSibling.children[1].style.display="none"):(e.bool=!1,e.nextElementSibling.style.display="none",e.parentNode.nextElementSibling.children[1].style.display="inline")}function y(e,n){e.parentNode.nextElementSibling.children[0].style.display="none","弱"===n?(e.bool=!1,e.nextElementSibling.style.display="none",e.parentNode.nextElementSibling.children[1].innerHTML="有被盗风险,建议使用字母、数字和符号两种及以上组合"):("中"===n&&(e.bool=!0,e.nextElementSibling.style.display="inline-block",e.parentNode.nextElementSibling.children[1].style.color="yellow",e.parentNode.nextElementSibling.children[1].innerHTML="安全强度适中，可以使用三种以上的组合来提高安全强度"),"强"===n&&(e.bool=!0,e.nextElementSibling.style.display="inline-block",e.parentNode.nextElementSibling.children[1].style.color="greenyellow",e.parentNode.nextElementSibling.children[1].innerHTML="你的密码很安全")),e.parentNode.nextElementSibling.children[1].style.display="inline"}o.addEventListener("submit",function(e){e.preventDefault(),a.every(function(e){return e.bool})&&(s.push(v(".password").val()),s.push(v(".wrap .username").val()),i.css("display","block"),n.css("display","none"),t.addClass("complete"),l.addClass("active"))}),a.forEach(function(e){"password"===e.className&&e.addEventListener("input",p),e.addEventListener("focus",d),e.addEventListener("blur",c),e.bool=!1});var m="";e.onclick=function(){m=function(){var e="";for(f=0;f<4;f++){var n=Math.floor(Math.random()*b.length);25<n||.5<+Math.random()?e+=b[n]:e+=b[n].toLowerCase()}return e}(),this.style.fontSize="16px",this.innerHTML=m};for(var b=[],f=0;f<26;f++)b.push(String.fromCharCode(65+f));for(f=0;f<10;f++)b.push(String.fromCharCode(48+f))}}});